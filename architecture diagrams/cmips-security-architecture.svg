<svg width="2000" height="2400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="userGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4A90E2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#357ABD;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1976D2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="keycloakGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#F44336;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D32F2F;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="backendGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#388E3C;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7B1FA2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="securityGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F57C00;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="networkGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00BCD4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0097A7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="tokenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#FFC107;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FFA000;stop-opacity:1" />
    </linearGradient>
    
    <!-- Filters -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-opacity="0.3"/>
    </filter>
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2196F3" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#F44336" />
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#4CAF50" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#FF9800" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="2000" height="2400" fill="#F5F5F5"/>
  
  <!-- Title -->
  <text x="1000" y="40" font-family="Arial, sans-serif" font-size="36" font-weight="bold" text-anchor="middle" fill="#333">
    CMIPS Application Security Architecture
  </text>
  
  <!-- Legend -->
  <rect x="50" y="70" width="300" height="200" fill="white" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="200" y="95" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Legend</text>
  <line x1="70" y1="110" x2="90" y2="110" stroke="#2196F3" stroke-width="3" marker-end="url(#arrowhead-blue)"/>
  <text x="100" y="115" font-family="Arial, sans-serif" font-size="14" fill="#333">Authentication Flow</text>
  <line x1="70" y1="140" x2="90" y2="140" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrowhead-green)"/>
  <text x="100" y="145" font-family="Arial, sans-serif" font-size="14" fill="#333">Authorization Flow</text>
  <line x1="70" y1="170" x2="90" y2="170" stroke="#FF9800" stroke-width="3" marker-end="url(#arrowhead-orange)"/>
  <text x="100" y="175" font-family="Arial, sans-serif" font-size="14" fill="#333">Token Validation</text>
  <line x1="70" y1="200" x2="90" y2="200" stroke="#9C27B0" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="100" y="205" font-family="Arial, sans-serif" font-size="14" fill="#333">Data Flow</text>
  <line x1="70" y1="230" x2="90" y2="230" stroke="#F44336" stroke-width="2"/>
  <text x="100" y="235" font-family="Arial, sans-serif" font-size="14" fill="#333">Security Boundary</text>
  
  <!-- ========== LAYER 1: USER LAYER ========== -->
  <rect x="50" y="300" width="1900" height="120" fill="#E3F2FD" stroke="#1976D2" stroke-width="2" rx="10" filter="url(#shadow)"/>
  <text x="1000" y="330" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#1976D2">User Layer</text>
  
  <!-- Users -->
  <rect x="200" y="350" width="150" height="60" fill="url(#userGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="275" y="375" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Admin User</text>
  <text x="275" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">Role: ADMIN</text>
  
  <rect x="450" y="350" width="150" height="60" fill="url(#userGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="525" y="375" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Supervisor</text>
  <text x="525" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">Role: SUPERVISOR</text>
  
  <rect x="700" y="350" width="150" height="60" fill="url(#userGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="775" y="375" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Case Worker</text>
  <text x="775" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">Role: CASE_WORKER</text>
  <text x="775" y="410" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">County: CTA/CTB/CTC</text>
  
  <rect x="950" y="350" width="150" height="60" fill="url(#userGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1025" y="375" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Provider</text>
  <text x="1025" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">Role: PROVIDER</text>
  
  <rect x="1200" y="350" width="150" height="60" fill="url(#userGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1275" y="375" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Recipient</text>
  <text x="1275" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">Role: RECIPIENT</text>
  
  <!-- ========== LAYER 2: NETWORK SECURITY LAYER ========== -->
  <rect x="50" y="450" width="1900" height="180" fill="#E0F7FA" stroke="#00BCD4" stroke-width="2" rx="10" filter="url(#shadow)"/>
  <text x="1000" y="480" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#0097A7">Network Security Layer</text>
  
  <!-- WAF -->
  <rect x="200" y="510" width="200" height="100" fill="url(#securityGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="300" y="535" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">AWS WAF</text>
  <text x="300" y="555" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• DDoS Protection</text>
  <text x="300" y="575" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• SQL Injection Prevention</text>
  <text x="300" y="595" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• XSS Protection</text>
  
  <!-- Load Balancer -->
  <rect x="500" y="510" width="200" height="100" fill="url(#networkGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="600" y="535" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Application</text>
  <text x="600" y="550" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Load Balancer</text>
  <text x="600" y="575" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• SSL/TLS Termination</text>
  <text x="600" y="595" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Health Checks</text>
  
  <!-- Security Groups -->
  <rect x="800" y="510" width="200" height="100" fill="url(#securityGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="900" y="535" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Security Groups</text>
  <text x="900" y="555" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Inbound Rules</text>
  <text x="900" y="575" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Outbound Rules</text>
  <text x="900" y="595" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Port Restrictions</text>
  
  <!-- VPC -->
  <rect x="1100" y="510" width="200" height="100" fill="url(#networkGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1200" y="535" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">VPC</text>
  <text x="1200" y="555" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Public Subnets</text>
  <text x="1200" y="575" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Private Subnets</text>
  <text x="1200" y="595" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Network Isolation</text>
  
  <!-- ========== LAYER 3: FRONTEND SECURITY ========== -->
  <rect x="50" y="660" width="1900" height="220" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2" rx="10" filter="url(#shadow)"/>
  <text x="1000" y="690" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#388E3C">Frontend Security Layer (Next.js)</text>
  
  <!-- Auth Context -->
  <rect x="200" y="720" width="250" height="140" fill="url(#frontendGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="325" y="745" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">AuthContext</text>
  <text x="325" y="765" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Token Validation</text>
  <text x="325" y="785" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Token Refresh</text>
  <text x="325" y="805" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• User State Management</text>
  <text x="325" y="825" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• County Extraction</text>
  <text x="325" y="845" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Role Extraction</text>
  
  <!-- API Client -->
  <rect x="550" y="720" width="250" height="140" fill="url(#frontendGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="675" y="745" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">API Client</text>
  <text x="675" y="765" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Request Interceptor</text>
  <text x="675" y="785" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• JWT Token Injection</text>
  <text x="675" y="805" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Authorization Header</text>
  <text x="675" y="825" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Error Handling</text>
  <text x="675" y="845" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• 401 Auto-Logout</text>
  
  <!-- Local Storage -->
  <rect x="900" y="720" width="250" height="140" fill="url(#tokenGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1025" y="745" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Browser Storage</text>
  <text x="1025" y="765" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Access Token (JWT)</text>
  <text x="1025" y="785" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Refresh Token</text>
  <text x="1025" y="805" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• User Data</text>
  <text x="1025" y="825" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• County Info</text>
  <text x="1025" y="845" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">⚠️ Not Encrypted</text>
  
  <!-- Route Protection -->
  <rect x="1250" y="720" width="250" height="140" fill="url(#frontendGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1375" y="745" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Route Protection</text>
  <text x="1375" y="765" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Role-Based Routes</text>
  <text x="1375" y="785" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• County-Based Theming</text>
  <text x="1375" y="805" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Protected Routes</text>
  <text x="1375" y="825" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Redirect on Unauthorized</text>
  <text x="1375" y="845" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Middleware Guards</text>
  
  <!-- ========== LAYER 4: KEYCLOAK AUTHENTICATION ========== -->
  <rect x="50" y="910" width="1900" height="280" fill="#FFEBEE" stroke="#F44336" stroke-width="2" rx="10" filter="url(#shadow)"/>
  <text x="1000" y="940" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#D32F2F">Keycloak Identity &amp; Access Management</text>
  
  <!-- Keycloak Server -->
  <rect x="200" y="970" width="300" height="200" fill="url(#keycloakGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="350" y="1000" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">Keycloak Server</text>
  <text x="350" y="1025" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white">Realm: cmips</text>
  
  <!-- Authentication -->
  <rect x="220" y="1040" width="120" height="110" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="280" y="1060" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Authentication</text>
  <text x="280" y="1080" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Username/Password</text>
  <text x="280" y="1095" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• OAuth2/OIDC</text>
  <text x="280" y="1110" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Token Generation</text>
  <text x="280" y="1125" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Token Refresh</text>
  <text x="280" y="1140" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Password Reset</text>
  
  <!-- User Management -->
  <rect x="360" y="1040" width="120" height="110" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="420" y="1060" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">User Management</text>
  <text x="420" y="1080" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• User CRUD</text>
  <text x="420" y="1095" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Role Assignment</text>
  <text x="420" y="1110" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Group Assignment</text>
  <text x="420" y="1125" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Password Policies</text>
  <text x="420" y="1140" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Account Lockout</text>
  
  <!-- JWT Token -->
  <rect x="700" y="970" width="300" height="200" fill="url(#tokenGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="850" y="1000" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">JWT Token Structure</text>
  
  <rect x="720" y="1020" width="260" height="130" fill="rgba(255,255,255,0.9)" stroke="#333" stroke-width="1" rx="3"/>
  <text x="850" y="1040" font-family="Courier, monospace" font-size="11" text-anchor="middle" fill="#333">{</text>
  <text x="750" y="1055" font-family="Courier, monospace" font-size="10" fill="#333">  "sub": "user-id",</text>
  <text x="750" y="1070" font-family="Courier, monospace" font-size="10" fill="#333">  "realm_access": {</text>
  <text x="770" y="1085" font-family="Courier, monospace" font-size="10" fill="#333">    "roles": ["ADMIN", ...]</text>
  <text x="750" y="1100" font-family="Courier, monospace" font-size="10" fill="#333">  },</text>
  <text x="750" y="1115" font-family="Courier, monospace" font-size="10" fill="#333">  "groups": ["CTA", "CTB", ...],</text>
  <text x="750" y="1130" font-family="Courier, monospace" font-size="10" fill="#333">  "exp": 1234567890</text>
  <text x="850" y="1145" font-family="Courier, monospace" font-size="11" text-anchor="middle" fill="#333">}</text>
  
  <!-- Client Scopes -->
  <rect x="1100" y="970" width="300" height="200" fill="url(#keycloakGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1250" y="1000" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">Client Scopes &amp; Mappers</text>
  
  <rect x="1120" y="1020" width="120" height="130" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="1180" y="1040" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Groups Scope</text>
  <text x="1180" y="1060" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">• oidc-group-</text>
  <text x="1180" y="1075" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">membership-</text>
  <text x="1180" y="1090" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">mapper</text>
  <text x="1180" y="1105" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">• Adds groups to</text>
  <text x="1180" y="1120" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">JWT token</text>
  <text x="1180" y="1135" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">• County mapping</text>
  
  <rect x="1260" y="1020" width="120" height="130" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="1320" y="1040" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Roles Scope</text>
  <text x="1320" y="1060" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">• realm roles</text>
  <text x="1320" y="1075" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">• client roles</text>
  <text x="1320" y="1090" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">• role mapping</text>
  <text x="1320" y="1105" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">• RBAC support</text>
  
  <!-- Groups -->
  <rect x="1500" y="970" width="300" height="200" fill="url(#keycloakGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1650" y="1000" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">Groups &amp; Counties</text>
  
  <rect x="1520" y="1020" width="80" height="50" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="1560" y="1040" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">CTA</text>
  <text x="1560" y="1055" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Sacramento</text>
  
  <rect x="1620" y="1020" width="80" height="50" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="1660" y="1040" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">CTB</text>
  <text x="1660" y="1055" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Orange County</text>
  
  <rect x="1720" y="1020" width="80" height="50" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="1760" y="1040" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">CTC</text>
  <text x="1760" y="1055" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Shasta</text>
  
  <text x="1650" y="1090" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Groups mapped to counties</text>
  <text x="1650" y="1110" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Users assigned to groups</text>
  <text x="1650" y="1130" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Groups included in JWT</text>
  <text x="1650" y="1150" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• County-based theming</text>
  
  <!-- ========== LAYER 5: BACKEND SECURITY ========== -->
  <rect x="50" y="1220" width="1900" height="320" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2" rx="10" filter="url(#shadow)"/>
  <text x="1000" y="1250" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#388E3C">Backend Security Layer (Spring Boot)</text>
  
  <!-- Security Filter Chain -->
  <rect x="200" y="1290" width="280" height="220" fill="url(#backendGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="340" y="1320" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Security Filter Chain</text>
  
  <rect x="220" y="1340" width="240" height="150" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="340" y="1365" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">1. CORS Filter</text>
  <text x="340" y="1385" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Allowed Origins</text>
  <text x="340" y="1400" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Allowed Methods</text>
  <text x="340" y="1415" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Credentials</text>
  <text x="340" y="1430" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">2. CSRF Disabled</text>
  <text x="340" y="1450" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">3. Stateless Sessions</text>
  <text x="340" y="1470" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">4. OAuth2 Resource Server</text>
  
  <!-- JWT Validation -->
  <rect x="580" y="1290" width="280" height="220" fill="url(#backendGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="720" y="1320" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">JWT Validation</text>
  
  <rect x="600" y="1340" width="240" height="150" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="720" y="1365" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">JWT Decoder</text>
  <text x="720" y="1385" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• JWK Set URI</text>
  <text x="720" y="1400" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Keycloak Certs</text>
  <text x="720" y="1415" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Signature Validation</text>
  <text x="720" y="1430" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Expiration Check</text>
  <text x="720" y="1445" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">JWT Converter</text>
  <text x="720" y="1465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Extract Roles</text>
  <text x="720" y="1480" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Map to Authorities</text>
  
  <!-- Authorization -->
  <rect x="960" y="1290" width="280" height="220" fill="url(#backendGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1100" y="1320" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Authorization</text>
  
  <rect x="980" y="1340" width="240" height="150" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="1100" y="1365" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Role-Based Access</text>
  <text x="1100" y="1385" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• @PreAuthorize</text>
  <text x="1100" y="1400" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• hasRole("ADMIN")</text>
  <text x="1100" y="1415" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• hasRole("SUPERVISOR")</text>
  <text x="1100" y="1430" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• hasRole("CASE_WORKER")</text>
  <text x="1100" y="1445" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Endpoint Protection</text>
  <text x="1100" y="1465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• /api/admin/** → ADMIN</text>
  <text x="1100" y="1480" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Public endpoints</text>
  
  <!-- Authorization Aspect -->
  <rect x="1340" y="1290" width="280" height="220" fill="url(#backendGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1480" y="1320" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Authorization Aspect</text>
  
  <rect x="1360" y="1340" width="240" height="150" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1" rx="3"/>
  <text x="1480" y="1365" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">AOP Security</text>
  <text x="1480" y="1385" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• @RequiresRole</text>
  <text x="1480" y="1400" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Method-level Security</text>
  <text x="1480" y="1415" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Permission Checks</text>
  <text x="1480" y="1430" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• County-based Access</text>
  <text x="1480" y="1445" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Keycloak Policy</text>
  <text x="1480" y="1465" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Policy Evaluation</text>
  <text x="1480" y="1480" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">• Resource Permissions</text>
  
  <!-- ========== LAYER 6: DATA SECURITY ========== -->
  <rect x="50" y="1570" width="1900" height="200" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2" rx="10" filter="url(#shadow)"/>
  <text x="1000" y="1600" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#7B1FA2">Data Security Layer</text>
  
  <!-- Database -->
  <rect x="200" y="1640" width="300" height="110" fill="url(#dbGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="350" y="1670" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">PostgreSQL Database</text>
  <text x="350" y="1695" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Encrypted at Rest (RDS)</text>
  <text x="350" y="1715" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• SSL/TLS Connections</text>
  <text x="350" y="1735" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Private Subnet Only</text>
  
  <!-- Keycloak DB -->
  <rect x="600" y="1640" width="300" height="110" fill="url(#dbGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="750" y="1670" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">Keycloak Database</text>
  <text x="750" y="1695" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• User Credentials (Hashed)</text>
  <text x="750" y="1715" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Roles &amp; Groups</text>
  <text x="750" y="1735" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Sessions &amp; Tokens</text>
  
  <!-- Secrets Manager -->
  <rect x="1000" y="1640" width="300" height="110" fill="url(#securityGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1150" y="1670" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">AWS Secrets Manager</text>
  <text x="1150" y="1695" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Database Credentials</text>
  <text x="1150" y="1715" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• API Keys</text>
  <text x="1150" y="1735" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• Encryption Keys</text>
  
  <!-- Encryption -->
  <rect x="1400" y="1640" width="300" height="110" fill="url(#securityGrad)" stroke="#333" stroke-width="2" rx="5" filter="url(#shadow)"/>
  <text x="1550" y="1670" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">Encryption</text>
  <text x="1550" y="1695" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• TLS 1.2+ in Transit</text>
  <text x="1550" y="1715" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• AES-256 at Rest</text>
  <text x="1550" y="1735" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">• JWT Signing (RS256)</text>
  
  <!-- ========== FLOW ARROWS ========== -->
  
  <!-- User to Frontend -->
  <line x1="275" y1="350" x2="325" y2="720" stroke="#2196F3" stroke-width="3" marker-end="url(#arrowhead-blue)"/>
  <line x1="525" y1="350" x2="325" y2="720" stroke="#2196F3" stroke-width="3" marker-end="url(#arrowhead-blue)"/>
  <line x1="775" y1="350" x2="325" y2="720" stroke="#2196F3" stroke-width="3" marker-end="url(#arrowhead-blue)"/>
  <line x1="1025" y1="350" x2="325" y2="720" stroke="#2196F3" stroke-width="3" marker-end="url(#arrowhead-blue)"/>
  <line x1="1275" y1="350" x2="325" y2="720" stroke="#2196F3" stroke-width="3" marker-end="url(#arrowhead-blue)"/>
  
  <!-- Frontend to Keycloak -->
  <line x1="550" y1="790" x2="350" y2="970" stroke="#F44336" stroke-width="3" marker-end="url(#arrowhead-red)"/>
  <text x="450" y="870" font-family="Arial, sans-serif" font-size="12" fill="#F44336" font-weight="bold">1. Login Request</text>
  
  <!-- Keycloak to Frontend -->
  <line x1="350" y1="1170" x2="1025" y2="860" stroke="#F44336" stroke-width="3" marker-end="url(#arrowhead-red)"/>
  <text x="600" y="1020" font-family="Arial, sans-serif" font-size="12" fill="#F44336" font-weight="bold">2. JWT Token</text>
  
  <!-- Frontend to Backend -->
  <line x1="800" y1="790" x2="340" y2="1290" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrowhead-green)"/>
  <text x="550" y="1040" font-family="Arial, sans-serif" font-size="12" fill="#4CAF50" font-weight="bold">3. API Request + JWT</text>
  
  <!-- Backend to Keycloak -->
  <line x1="720" y1="1290" x2="850" y2="1170" stroke="#FF9800" stroke-width="3" marker-end="url(#arrowhead-orange)"/>
  <text x="750" y="1230" font-family="Arial, sans-serif" font-size="12" fill="#FF9800" font-weight="bold">4. Validate JWT</text>
  
  <!-- Keycloak to Backend -->
  <line x1="850" y1="1170" x2="720" y2="1290" stroke="#FF9800" stroke-width="3" marker-end="url(#arrowhead-orange)"/>
  <text x="800" y1="1200" font-family="Arial, sans-serif" font-size="12" fill="#FF9800" font-weight="bold">5. JWK Set</text>
  
  <!-- Backend to Database -->
  <line x1="1100" y1="1510" x2="350" y2="1640" stroke="#9C27B0" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <line x1="1480" y1="1510" x2="750" y2="1640" stroke="#9C27B0" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  
  <!-- Security Boundaries -->
  <rect x="40" y="290" width="1920" height="1500" fill="none" stroke="#F44336" stroke-width="3" stroke-dasharray="10,5" opacity="0.5"/>
  <text x="60" y="310" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#F44336">Security Perimeter</text>
  
  <!-- ========== SECURITY FEATURES SUMMARY ========== -->
  <rect x="50" y="1800" width="1900" height="550" fill="white" stroke="#333" stroke-width="2" rx="10" filter="url(#shadow)"/>
  <text x="1000" y="1830" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Security Features Summary</text>
  
  <!-- Authentication Features -->
  <rect x="100" y="1860" width="400" height="450" fill="#FFEBEE" stroke="#F44336" stroke-width="2" rx="5"/>
  <text x="300" y="1890" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#D32F2F">Authentication</text>
  <text x="120" y="1920" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ OAuth2/OIDC Protocol</text>
  <text x="120" y="1945" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ JWT Access Tokens</text>
  <text x="120" y="1970" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Refresh Token Support</text>
  <text x="120" y="1995" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Password Policies</text>
  <text x="120" y="2020" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Account Lockout</text>
  <text x="120" y="2045" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Multi-Factor Auth Ready</text>
  <text x="120" y="2070" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Session Management</text>
  <text x="120" y="2095" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Token Expiration</text>
  <text x="120" y="2120" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Secure Password Reset</text>
  <text x="120" y="2145" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ User Provisioning</text>
  <text x="120" y="2170" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Identity Federation</text>
  <text x="120" y="2195" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Single Sign-On (SSO)</text>
  <text x="120" y="2220" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Token Refresh Flow</text>
  <text x="120" y="2245" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Logout &amp; Token Revocation</text>
  <text x="120" y="2270" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Browser Storage (localStorage)</text>
  
  <!-- Authorization Features -->
  <rect x="550" y="1860" width="400" height="450" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2" rx="5"/>
  <text x="750" y="1890" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#388E3C">Authorization</text>
  <text x="570" y="1920" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Role-Based Access Control (RBAC)</text>
  <text x="570" y="1945" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ County-Based Access Control</text>
  <text x="570" y="1970" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Group-Based Permissions</text>
  <text x="570" y="1995" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Method-Level Security</text>
  <text x="570" y="2020" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Endpoint Protection</text>
  <text x="570" y="2045" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ @PreAuthorize Annotations</text>
  <text x="570" y="2070" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ AOP Security Aspects</text>
  <text x="570" y="2095" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Keycloak Policy Evaluation</text>
  <text x="570" y="2120" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Resource Permissions</text>
  <text x="570" y="2145" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Fine-Grained Access Control</text>
  <text x="570" y="2170" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Public vs Protected Routes</text>
  <text x="570" y="2195" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Role Hierarchy</text>
  <text x="570" y="2220" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ County-Based Theming</text>
  <text x="570" y="2245" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Admin Dashboard Protection</text>
  <text x="570" y="2270" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Supervisor Dashboard Access</text>
  <text x="570" y="2295" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Case Worker Dashboard Access</text>
  
  <!-- Network Security -->
  <rect x="1000" y="1860" width="400" height="450" fill="#E0F7FA" stroke="#00BCD4" stroke-width="2" rx="5"/>
  <text x="1200" y="1890" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#0097A7">Network Security</text>
  <text x="1020" y="1920" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ AWS WAF Protection</text>
  <text x="1020" y="1945" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ DDoS Mitigation</text>
  <text x="1020" y="1970" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ SQL Injection Prevention</text>
  <text x="1020" y="1995" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ XSS Protection</text>
  <text x="1020" y="2020" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ SSL/TLS Termination</text>
  <text x="1020" y="2045" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Security Groups</text>
  <text x="1020" y="2070" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ VPC Isolation</text>
  <text x="1020" y="2095" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Private Subnets</text>
  <text x="1020" y="2120" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Network ACLs</text>
  <text x="1020" y="2145" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Load Balancer Security</text>
  <text x="1020" y="2170" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Port Restrictions</text>
  <text x="1020" y="2195" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ CORS Configuration</text>
  <text x="1020" y="2220" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Health Check Endpoints</text>
  <text x="1020" y="2245" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Rate Limiting (WAF)</text>
  <text x="1020" y="2270" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ IP Whitelisting</text>
  
  <!-- Data Security -->
  <rect x="1450" y="1860" width="400" height="450" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2" rx="5"/>
  <text x="1650" y="1890" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#7B1FA2">Data Security</text>
  <text x="1470" y="1920" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Encryption at Rest (AES-256)</text>
  <text x="1470" y="1945" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Encryption in Transit (TLS 1.2+)</text>
  <text x="1470" y="1970" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Database SSL Connections</text>
  <text x="1470" y="1995" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ AWS Secrets Manager</text>
  <text x="1470" y="2020" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Credential Rotation</text>
  <text x="1470" y="2045" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Password Hashing (BCrypt)</text>
  <text x="1470" y="2070" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ JWT Signing (RS256)</text>
  <text x="1470" y="2095" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Private Key Protection</text>
  <text x="1470" y="2120" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Database Backups</text>
  <text x="1470" y="2145" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Audit Logging</text>
  <text x="1470" y="2170" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Data Masking</text>
  <text x="1470" y="2195" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ PII Protection</text>
  <text x="1470" y="2220" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Compliance (HIPAA Ready)</text>
  <text x="1470" y="2245" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Access Logging</text>
  <text x="1470" y="2270" font-family="Arial, sans-serif" font-size="14" fill="#333">✓ Secure Token Storage</text>
  
  <!-- Footer -->
  <text x="1000" y="2320" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">
    CMIPS Security Architecture - Comprehensive Security Implementation
  </text>
  <text x="1000" y="2340" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#999">
    Authentication | Authorization | Network Security | Data Protection
  </text>
</svg>

