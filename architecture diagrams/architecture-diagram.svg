<svg width="1400" height="2000" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="700" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1e3a8a">
    CMIPS Application Architecture - Address Change Flow
  </text>
  
  <!-- AWS Cloud Container -->
  <rect x="50" y="60" width="1300" height="1900" fill="#f0f8ff" stroke="#1e3a8a" stroke-width="2" rx="10"/>
  <text x="700" y="85" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#1e3a8a">
    AWS Cloud Infrastructure
  </text>
  
  <!-- VPC -->
  <rect x="100" y="110" width="1200" height="1800" fill="#e6f2ff" stroke="#1e40af" stroke-width="2" stroke-dasharray="5,5" rx="8"/>
  <text x="700" y="135" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1e40af">
    VPC (Virtual Private Cloud)
  </text>
  
  <!-- Public Subnet -->
  <rect x="150" y="170" width="550" height="300" fill="#ffffff" stroke="#28a745" stroke-width="2" rx="5"/>
  <text x="425" y="195" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#28a745">
    Public Subnet (10.0.1.0/24)
  </text>
  
  <!-- Frontend Container -->
  <rect x="180" y="220" width="200" height="120" fill="#4a90e2" stroke="#1e3a8a" stroke-width="2" rx="5"/>
  <text x="280" y="245" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
    Frontend (Next.js)
  </text>
  <text x="280" y="265" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Port: 3000
  </text>
  <text x="280" y="280" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Docker Container
  </text>
  <text x="280" y="295" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    ECS/EC2
  </text>
  <text x="280" y="320" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - React Components
  </text>
  <text x="280" y="335" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - API Client (Axios)
  </text>
  
  <!-- Keycloak Container -->
  <rect x="420" y="220" width="200" height="120" fill="#ff6b6b" stroke="#c92a2a" stroke-width="2" rx="5"/>
  <text x="520" y="245" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
    Keycloak
  </text>
  <text x="520" y="265" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Port: 8080
  </text>
  <text x="520" y="280" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Docker Container
  </text>
  <text x="520" y="295" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    ECS/EC2
  </text>
  <text x="520" y="320" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Authentication
  </text>
  <text x="520" y="335" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Authorization (RBAC)
  </text>
  
  <!-- Private Subnet -->
  <rect x="750" y="170" width="550" height="800" fill="#fff5f5" stroke="#dc3545" stroke-width="2" rx="5"/>
  <text x="1025" y="195" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#dc3545">
    Private Subnet (10.0.2.0/24)
  </text>
  
  <!-- Backend Container -->
  <rect x="780" y="220" width="200" height="150" fill="#51cf66" stroke="#2b8a3e" stroke-width="2" rx="5"/>
  <text x="880" y="245" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
    Backend (Spring Boot)
  </text>
  <text x="880" y="265" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Port: 8081
  </text>
  <text x="880" y="280" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Docker Container
  </text>
  <text x="880" y="295" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    ECS/EC2
  </text>
  <text x="880" y="320" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - REST Controllers
  </text>
  <text x="880" y="335" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Services
  </text>
  <text x="880" y="350" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Kafka Producers
  </text>
  <text x="880" y="365" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Kafka Consumers
  </text>
  
  <!-- PostgreSQL Database -->
  <rect x="1020" y="220" width="200" height="120" fill="#339af0" stroke="#1c7ed6" stroke-width="2" rx="5"/>
  <text x="1120" y="245" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
    PostgreSQL
  </text>
  <text x="1120" y="265" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Port: 5432
  </text>
  <text x="1120" y="280" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    RDS Instance
  </text>
  <text x="1120" y="295" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Multi-AZ
  </text>
  <text x="1120" y="320" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Tasks Table
  </text>
  <text x="1120" y="335" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Work Queues
  </text>
  <text x="1120" y="350" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Notifications
  </text>
  
  <!-- Kafka Cluster -->
  <rect x="780" y="400" width="200" height="150" fill="#ffd43b" stroke="#f59f00" stroke-width="2" rx="5"/>
  <text x="880" y="425" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">
    Kafka Broker
  </text>
  <text x="880" y="445" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">
    Port: 9092
  </text>
  <text x="880" y="460" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">
    MSK Cluster
  </text>
  <text x="880" y="475" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">
    (Managed)
  </text>
  <text x="880" y="500" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    Topics:
  </text>
  <text x="880" y="515" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - cmips-case-events
  </text>
  <text x="880" y="530" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - cmips-timesheet-events
  </text>
  <text x="880" y="545" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    Consumer Groups
  </text>
  
  <!-- Zookeeper -->
  <rect x="1020" y="400" width="200" height="120" fill="#ff922b" stroke="#e67700" stroke-width="2" rx="5"/>
  <text x="1120" y="425" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
    Zookeeper
  </text>
  <text x="1120" y="445" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    Port: 2181
  </text>
  <text x="1120" y="460" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    MSK Managed
  </text>
  <text x="1120" y="475" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    (3 nodes)
  </text>
  <text x="1120" y="500" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Coordination
  </text>
  <text x="1120" y="515" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Leader Election
  </text>
  <text x="1120" y="530" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    - Metadata
  </text>
  
  <!-- Flow Steps -->
  <text x="700" y="600" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1e3a8a">
    Address Change Flow (Step-by-Step)
  </text>
  
  <!-- Step 1 -->
  <rect x="150" y="630" width="1100" height="60" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="200" y="655" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976d2">
    Step 1:
  </text>
  <text x="250" y="655" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Provider logs in via Frontend → Keycloak authenticates → Returns JWT token
  </text>
  <text x="200" y="675" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Frontend stores token in localStorage, includes in Authorization header for all API calls
  </text>
  
  <!-- Step 2 -->
  <rect x="150" y="710" width="1100" height="60" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
  <text x="200" y="735" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7b1fa2">
    Step 2:
  </text>
  <text x="250" y="735" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Provider submits address change → Frontend POST /api/cases/address-change → Backend receives request
  </text>
  <text x="200" y="755" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Backend validates JWT token with Keycloak, extracts user info, validates request payload
  </text>
  
  <!-- Step 3 -->
  <rect x="150" y="790" width="1100" height="60" fill="#fff3e0" stroke="#e65100" stroke-width="2" rx="5"/>
  <text x="200" y="815" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e65100">
    Step 3:
  </text>
  <text x="250" y="815" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Backend creates notification → Saves to PostgreSQL → NotificationService.createNotification()
  </text>
  <text x="200" y="835" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Notification record inserted into notifications table with recipient userId, message, type, readStatus
  </text>
  
  <!-- Step 4 -->
  <rect x="150" y="870" width="1100" height="60" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2" rx="5"/>
  <text x="200" y="895" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2e7d32">
    Step 4:
  </text>
  <text x="250" y="895" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Backend publishes Kafka event → KafkaTemplate.send("cmips-case-events", event) → Kafka Broker receives
  </text>
  <text x="200" y="915" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Event contains: eventType="case.address.changed", payload with providerId, recipientId, newAddress, isOutsideCA
  </text>
  
  <!-- Step 5 -->
  <rect x="150" y="950" width="1100" height="60" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
  <text x="200" y="975" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#c2185b">
    Step 5:
  </text>
  <text x="250" y="975" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Kafka Consumer (TaskEventConsumer) receives event → @KafkaListener processes "case.address.changed"
  </text>
  <text x="200" y="995" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Consumer checks isOutsideCA flag, creates Task entity with workQueue="PROVIDER_MANAGEMENT", queueRole="CASE_WORKER"
  </text>
  
  <!-- Step 6 -->
  <rect x="150" y="1030" width="1100" height="60" fill="#e0f2f1" stroke="#00695c" stroke-width="2" rx="5"/>
  <text x="200" y="1055" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#00695c">
    Step 6:
  </text>
  <text x="250" y="1055" font-family="Arial, sans-serif" font-size="11" fill="#333">
    TaskService.createTask() → Saves task to PostgreSQL → Task inserted into tasks table
  </text>
  <text x="200" y="1075" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Task record includes: title, description, workQueue, queueRole, status=OPEN, priority=MEDIUM, assignedTo="PROVIDER_MANAGEMENT"
  </text>
  
  <!-- Step 7 -->
  <rect x="150" y="1110" width="1100" height="60" fill="#fff8e1" stroke="#f57f17" stroke-width="2" rx="5"/>
  <text x="200" y="1135" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f57f17">
    Step 7:
  </text>
  <text x="250" y="1135" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Supervisor views work queue → GET /api/work-queues/PROVIDER_MANAGEMENT/tasks → Backend queries PostgreSQL
  </text>
  <text x="200" y="1155" font-family="Arial, sans-serif" font-size="10" fill="#666">
    TaskRepository.findByWorkQueue("PROVIDER_MANAGEMENT") returns all tasks in that queue, supervisor can see and manage
  </text>
  
  <!-- Step 8 -->
  <rect x="150" y="1190" width="1100" height="60" fill="#f1f8e9" stroke="#558b2f" stroke-width="2" rx="5"/>
  <text x="200" y="1215" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#558b2f">
    Step 8:
  </text>
  <text x="250" y="1215" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Supervisor adds caseworker to queue → POST /api/work-queues/subscribe → Saves to work_queue_subscriptions table
  </text>
  <text x="200" y="1235" font-family="Arial, sans-serif" font-size="10" fill="#666">
    WorkQueueSubscription record: username="caseworker1", workQueue="PROVIDER_MANAGEMENT", subscribedBy="supervisor1"
  </text>
  
  <!-- Step 9 -->
  <rect x="150" y="1270" width="1100" height="60" fill="#ede7f6" stroke="#512da8" stroke-width="2" rx="5"/>
  <text x="200" y="1295" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#512da8">
    Step 9:
  </text>
  <text x="250" y="1295" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Caseworker logs in → GET /api/tasks?username=caseworker1&amp;includeSubscribedQueues=true → Backend fetches tasks
  </text>
  <text x="200" y="1315" font-family="Arial, sans-serif" font-size="10" fill="#666">
    Backend gets subscribed queues from work_queue_subscriptions, queries tasks from those queues, returns combined list
  </text>
  
  <!-- Step 10 -->
  <rect x="150" y="1350" width="1100" height="60" fill="#e8eaf6" stroke="#303f9f" stroke-width="2" rx="5"/>
  <text x="200" y="1375" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#303f9f">
    Step 10:
  </text>
  <text x="250" y="1375" font-family="Arial, sans-serif" font-size="11" fill="#333">
    Recipient views notifications → GET /api/notifications/user/recipient1 → Backend queries PostgreSQL
  </text>
  <text x="200" y="1395" font-family="Arial, sans-serif" font-size="10" fill="#666">
    NotificationRepository.findByUserId() returns unread notifications, recipient sees address change notification
  </text>
  
  <!-- Arrows for Flow -->
  <!-- Step 1 Arrow -->
  <path d="M 280 280 L 520 280" stroke="#1976d2" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 2 Arrow -->
  <path d="M 280 340 L 880 340" stroke="#7b1fa2" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 3 Arrow -->
  <path d="M 880 370 L 1120 280" stroke="#e65100" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 4 Arrow -->
  <path d="M 880 370 L 880 400" stroke="#2e7d32" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 5 Arrow -->
  <path d="M 880 550 L 880 370" stroke="#c2185b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 6 Arrow -->
  <path d="M 880 370 L 1120 280" stroke="#00695c" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 7 Arrow -->
  <path d="M 280 340 L 880 340" stroke="#f57f17" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 880 340 L 1120 280" stroke="#f57f17" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 8 Arrow -->
  <path d="M 280 340 L 880 340" stroke="#558b2f" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 880 340 L 1120 280" stroke="#558b2f" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 9 Arrow -->
  <path d="M 280 340 L 880 340" stroke="#512da8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 880 340 L 1120 280" stroke="#512da8" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 10 Arrow -->
  <path d="M 280 340 L 880 340" stroke="#303f9f" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 880 340 L 1120 280" stroke="#303f9f" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Zookeeper to Kafka -->
  <path d="M 1120 520 L 880 550" stroke="#ff922b" stroke-width="2" fill="none" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
  <text x="1000" y="540" font-family="Arial, sans-serif" font-size="9" fill="#666">
    Coordination
  </text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="150" y="1440" width="1100" height="500" fill="#ffffff" stroke="#1e3a8a" stroke-width="2" rx="5"/>
  <text x="700" y="1465" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1e3a8a">
    Architecture Components &amp; AWS Services
  </text>
  
  <!-- Component Details -->
  <text x="180" y="1495" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e3a8a">
    Frontend (Next.js):
  </text>
  <text x="180" y="1515" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Deployed on AWS ECS (Elastic Container Service) or EC2
  </text>
  <text x="180" y="1530" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Behind Application Load Balancer (ALB) for high availability
  </text>
  <text x="180" y="1545" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Uses Docker containers, auto-scales based on traffic
  </text>
  <text x="180" y="1560" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Communicates with Backend via REST API (HTTPS)
  </text>
  
  <text x="180" y="1590" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e3a8a">
    Keycloak:
  </text>
  <text x="180" y="1610" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Identity and Access Management (IAM) service
  </text>
  <text x="180" y="1625" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Deployed on ECS/EC2, uses PostgreSQL for user/role storage
  </text>
  <text x="180" y="1640" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Issues JWT tokens for authentication
  </text>
  <text x="180" y="1655" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Manages roles (ADMIN, SUPERVISOR, CASE_WORKER, PROVIDER, RECIPIENT)
  </text>
  
  <text x="180" y="1685" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e3a8a">
    Backend (Spring Boot):
  </text>
  <text x="180" y="1705" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Deployed on AWS ECS or EC2 instances
  </text>
  <text x="180" y="1720" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Behind ALB, auto-scales horizontally
  </text>
  <text x="180" y="1735" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Validates JWT tokens with Keycloak on each request
  </text>
  <text x="180" y="1750" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Publishes events to Kafka, consumes events from Kafka
  </text>
  <text x="180" y="1765" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Uses Spring Data JPA for database operations
  </text>
  
  <text x="700" y="1495" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e3a8a">
    PostgreSQL (RDS):
  </text>
  <text x="700" y="1515" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • AWS RDS PostgreSQL (Multi-AZ for high availability)
  </text>
  <text x="700" y="1530" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Automated backups, point-in-time recovery
  </text>
  <text x="700" y="1545" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Tables: tasks, work_queue_subscriptions, notifications, provider_recipient_relationships
  </text>
  <text x="700" y="1560" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Connection pooling via HikariCP in Spring Boot
  </text>
  
  <text x="700" y="1590" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e3a8a">
    Kafka (MSK):
  </text>
  <text x="700" y="1610" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • AWS Managed Streaming for Apache Kafka (MSK)
  </text>
  <text x="700" y="1625" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Fully managed, auto-scales, multi-AZ deployment
  </text>
  <text x="700" y="1640" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Topics: cmips-case-events, cmips-timesheet-events
  </text>
  <text x="700" y="1655" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Consumer Groups: task-consumer-group
  </text>
  <text x="700" y="1670" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Event-driven architecture for async processing
  </text>
  
  <text x="700" y="1700" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e3a8a">
    Zookeeper:
  </text>
  <text x="700" y="1720" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Managed by AWS MSK (included automatically)
  </text>
  <text x="700" y="1735" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Coordinates Kafka brokers, leader election
  </text>
  <text x="700" y="1750" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Maintains cluster metadata, configuration
  </text>
  <text x="700" y="1765" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • 3-node cluster for fault tolerance
  </text>
  
  <text x="700" y="1795" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e3a8a">
    Security &amp; Networking:
  </text>
  <text x="700" y="1815" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • VPC with public and private subnets
  </text>
  <text x="700" y="1830" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • Security Groups control traffic between components
  </text>
  <text x="700" y="1845" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • NAT Gateway for private subnet internet access
  </text>
  <text x="700" y="1860" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • SSL/TLS encryption for all API communications
  </text>
  <text x="700" y="1875" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • IAM roles for service-to-service authentication
  </text>
  <text x="700" y="1890" font-family="Arial, sans-serif" font-size="10" fill="#333">
    • CloudWatch for monitoring and logging
  </text>
</svg>

