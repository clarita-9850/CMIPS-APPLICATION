<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 28px sans-serif; fill: #2c3e50; }
      .subtitle { font: 20px sans-serif; fill: #34495e; }
      .layer-title { font: bold 18px sans-serif; fill: #ffffff; }
      .text { font: 14px sans-serif; fill: #2c3e50; }
      .text-white { font: 14px sans-serif; fill: #ffffff; }
      .small-text { font: 12px sans-serif; fill: #7f8c8d; }
      .arrow { stroke: #3498db; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
      .arrow-label { font: 12px sans-serif; fill: #3498db; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#3498db" />
    </marker>
    <linearGradient id="grad-blue" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad-green" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#229954;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad-purple" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9b59b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8e44ad;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad-orange" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e67e22;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d35400;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">CMIPS High-Level Architecture</text>
  <text x="600" y="70" text-anchor="middle" class="subtitle">Enterprise Healthcare Management System</text>
  
  <!-- User Interface Layer -->
  <rect x="100" y="120" width="1000" height="120" rx="10" fill="url(#grad-blue)" />
  <text x="600" y="150" text-anchor="middle" class="layer-title">PRESENTATION TIER - User Interface Layer</text>
  
  <rect x="130" y="170" width="280" height="50" rx="5" fill="#ecf0f1" />
  <text x="270" y="195" text-anchor="middle" class="text">Responsive Web Application</text>
  <text x="270" y="215" text-anchor="middle" class="small-text">React • Mobile-First • PWA</text>
  
  <rect x="460" y="170" width="280" height="50" rx="5" fill="#ecf0f1" />
  <text x="600" y="195" text-anchor="middle" class="text">Role-Based Dashboards</text>
  <text x="600" y="215" text-anchor="middle" class="small-text">Provider • Case Worker • Recipient</text>
  
  <rect x="790" y="170" width="280" height="50" rx="5" fill="#ecf0f1" />
  <text x="930" y="195" text-anchor="middle" class="text">Real-Time Updates</text>
  <text x="930" y="215" text-anchor="middle" class="small-text">WebSocket • Push Notifications</text>
  
  <!-- Arrow from UI to Security -->
  <line x1="600" y1="240" x2="600" y2="280" class="arrow" />
  <text x="650" y="265" class="arrow-label">HTTPS + JWT Token</text>
  
  <!-- Security Gateway Layer -->
  <rect x="100" y="280" width="1000" height="120" rx="10" fill="url(#grad-purple)" />
  <text x="600" y="310" text-anchor="middle" class="layer-title">SECURITY GATEWAY - Identity &amp; Access Management</text>
  
  <rect x="130" y="330" width="220" height="50" rx="5" fill="#ecf0f1" />
  <text x="240" y="350" text-anchor="middle" class="text">Authentication</text>
  <text x="240" y="370" text-anchor="middle" class="small-text">OAuth2 • OpenID Connect</text>
  
  <rect x="380" y="330" width="220" height="50" rx="5" fill="#ecf0f1" />
  <text x="490" y="350" text-anchor="middle" class="text">Authorization</text>
  <text x="490" y="370" text-anchor="middle" class="small-text">Role-Based • Policy Engine</text>
  
  <rect x="630" y="330" width="220" height="50" rx="5" fill="#ecf0f1" />
  <text x="740" y="350" text-anchor="middle" class="text">Token Management</text>
  <text x="740" y="370" text-anchor="middle" class="small-text">JWT • Session Control</text>
  
  <rect x="880" y="330" width="190" height="50" rx="5" fill="#ecf0f1" />
  <text x="975" y="355" text-anchor="middle" class="text">Keycloak Platform</text>
  <text x="975" y="375" text-anchor="middle" class="small-text">Identity Provider</text>
  
  <!-- Arrow from Security to Application -->
  <line x1="600" y1="400" x2="600" y2="440" class="arrow" />
  <text x="680" y="425" class="arrow-label">Authorized Requests</text>
  
  <!-- Application Layer -->
  <rect x="100" y="440" width="1000" height="140" rx="10" fill="url(#grad-green)" />
  <text x="600" y="470" text-anchor="middle" class="layer-title">APPLICATION TIER - Business Logic &amp; Processing</text>
  
  <rect x="130" y="490" width="200" height="70" rx="5" fill="#ecf0f1" />
  <text x="230" y="515" text-anchor="middle" class="text">Field-Level Security</text>
  <text x="230" y="535" text-anchor="middle" class="small-text">Dynamic Filtering</text>
  <text x="230" y="550" text-anchor="middle" class="small-text">Request/Response</text>
  
  <rect x="360" y="490" width="200" height="70" rx="5" fill="#ecf0f1" />
  <text x="460" y="515" text-anchor="middle" class="text">Business Services</text>
  <text x="460" y="535" text-anchor="middle" class="small-text">Timesheet Management</text>
  <text x="460" y="550" text-anchor="middle" class="small-text">Approval Workflows</text>
  
  <rect x="590" y="490" width="200" height="70" rx="5" fill="#ecf0f1" />
  <text x="690" y="515" text-anchor="middle" class="text">Validation Engine</text>
  <text x="690" y="535" text-anchor="middle" class="small-text">Business Rules</text>
  <text x="690" y="550" text-anchor="middle" class="small-text">Data Integrity</text>
  
  <rect x="820" y="490" width="250" height="70" rx="5" fill="#ecf0f1" />
  <text x="945" y="515" text-anchor="middle" class="text">Integration Layer</text>
  <text x="945" y="535" text-anchor="middle" class="small-text">Payroll • HR • EMR Systems</text>
  <text x="945" y="550" text-anchor="middle" class="small-text">RESTful APIs</text>
  
  <!-- Arrow from Application to Data -->
  <line x1="600" y1="580" x2="600" y2="620" class="arrow" />
  <text x="700" y="605" class="arrow-label">Secure Database Connection</text>
  
  <!-- Data Layer -->
  <rect x="100" y="620" width="1000" height="120" rx="10" fill="url(#grad-orange)" />
  <text x="600" y="650" text-anchor="middle" class="layer-title">DATA TIER - Persistence &amp; Storage</text>
  
  <rect x="150" y="670" width="220" height="50" rx="5" fill="#ecf0f1" />
  <text x="260" y="690" text-anchor="middle" class="text">Primary Database</text>
  <text x="260" y="710" text-anchor="middle" class="small-text">PostgreSQL • Encrypted</text>
  
  <rect x="400" y="670" width="220" height="50" rx="5" fill="#ecf0f1" />
  <text x="510" y="690" text-anchor="middle" class="text">Identity Database</text>
  <text x="510" y="710" text-anchor="middle" class="small-text">Users • Roles • Policies</text>
  
  <rect x="650" y="670" width="200" height="50" rx="5" fill="#ecf0f1" />
  <text x="750" y="690" text-anchor="middle" class="text">Audit Logs</text>
  <text x="750" y="710" text-anchor="middle" class="small-text">Complete Trail</text>
  
  <rect x="880" y="670" width="190" height="50" rx="5" fill="#ecf0f1" />
  <text x="975" y="690" text-anchor="middle" class="text">Backup System</text>
  <text x="975" y="710" text-anchor="middle" class="small-text">Automated Daily</text>
  
  <!-- Key Features -->
  <text x="100" y="780" class="text" font-weight="bold">Key Features:</text>
  <text x="250" y="780" class="small-text">✓ Zero-Trust Security Model</text>
  <text x="450" y="780" class="small-text">✓ Real-Time Permission Evaluation</text>
  <text x="650" y="780" class="small-text">✓ Field-Level Data Filtering</text>
  <text x="850" y="780" class="small-text">✓ Complete Audit Trail</text>
</svg>


